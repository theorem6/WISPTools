# =============================================================================
# WISPTools Backend - Environment Template
# Copy to .env and set values. Never commit .env.
# =============================================================================

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------
# MongoDB connection string (Atlas or local). Required in production.
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority

# Shared secret for /api/internal/* routes (Cloud Functions call backend with this).
# Must match Firebase Functions secret INTERNAL_API_KEY.
# Generate: openssl rand -base64 32
INTERNAL_API_KEY=your_shared_secret_here

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Firebase Admin (for token verification on backend)
# Optional if apiProxy/userTenants Cloud Functions do all auth and call
# /api/internal/* with INTERNAL_API_KEY. Set one of:
# - FIREBASE_SERVICE_ACCOUNT_JSON = full JSON string
# - FIREBASE_SERVICE_ACCOUNT_BASE64 = base64-encoded JSON (recommended on GCE)
# - FIREBASE_SERVICE_ACCOUNT_KEY = path to .json file
FIREBASE_PROJECT_ID=wisptools-production
# FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account",...}
# FIREBASE_SERVICE_ACCOUNT_BASE64=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50Ii...
# FIREBASE_SERVICE_ACCOUNT_KEY=./wisptools-production-firebase-adminsdk.json

# -----------------------------------------------------------------------------
# Platform Admin (for /admin/tenants)
# -----------------------------------------------------------------------------
# Comma-separated emails allowed to manage all tenants. Default: admin@wisptools.io
# PLATFORM_ADMIN_EMAILS=admin@wisptools.io,you@example.com
# Or use UIDs: PLATFORM_ADMIN_UIDS=uid1,uid2

# -----------------------------------------------------------------------------
# Optional - Billing / PayPal
# -----------------------------------------------------------------------------
# PAYPAL_CLIENT_ID=
# PAYPAL_CLIENT_SECRET=
# PAYPAL_ENVIRONMENT=sandbox

# -----------------------------------------------------------------------------
# Optional - External services (override config/app.js defaults)
# -----------------------------------------------------------------------------
# API_BASE_URL=https://hss.wisptools.io
# GENIEACS_URL=http://localhost:7557
# GENIEACS_API_KEY=
# ARCGIS_API_KEY=
# MICROSOFT_FOOTPRINTS_ENABLED=true

# -----------------------------------------------------------------------------
# Optional - Email (SMTP)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASS=
# FROM_EMAIL=noreply@wisptools.io
# FROM_NAME=WISPTools
